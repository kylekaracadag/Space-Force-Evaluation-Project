@inherits LayoutComponentBase
@inject AuthenticationStateProvider authProvider
@inject IUserData userData

<PageTitle>SpaceForceEvaluations</PageTitle>


<body>
            <!--Reference bar
            <div class="topbox">
                <p>Provide <a target="_blank" href="https://dod.teams.microsoft.us/l/team/19%3adod%3a2bf5dee9da7546c494c8d3b5f52f5878%40thread.tacv2/conversations?groupId=cebcc84c-7f65-4e78-9bf8-da0af1e01ded&tenantId=8331b18d-2d87-48ef-a35f-ac8818ebf9b4">Feedback</a> On Teams</p>
            </div>-->


    <!--Main Information Bar-->
    <div class="infobox">

        <!--The Page Title, Motto, Logo-->
        <div class="container flex">
            <a href="/"><img class="logo" src="https://upload.wikimedia.org/wikipedia/commons/f/fb/Seal_of_the_United_States_Space_Force.png" href="/Landing"></a>
            <h1 class="sitetitle">Guardian Assessment and Evaluation Apparatus</h1>

            <!--Navigation Links-->

            <nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand" href="">GAEA</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNavDropdown">
    <ul class="navbar-nav">
      <li class="nav-item active">
        <a class="nav-link" href="/Login">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/Reports">Reports</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/Account">Profile</a>
      </li>
      <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="/AdminPage" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Admin
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
          <a class="dropdown-item" href="#">Action</a>
          <a class="dropdown-item" href="#">Another action</a>
          <a class="dropdown-item" href="#">Something else here</a>
        </div>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="MicrosoftIdentity/Account/SignOut">Logout</a>
      </li>
    </ul>
  </div>
</nav>

        <!-- 
            <nav>
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="/Profile">Profile</a></li>
                    <li><a href="/Reports">Reports</a></li>
                    <AuthorizeView>
                        <Authorized>
                            <li><a href="/MicrosoftIdentity/Account/SignOut">Log out</a></li>
                        </Authorized>
                    </AuthorizeView>
                </ul>
            </nav>
                -->

            <!--User Profile Box, only Visible if Signed in-->
            <AuthorizeView>
                <Authorized>
                    <div class="userbox">
                        <p>Welcome, @userFirstName</p>
                    </div>
                </Authorized>
            </AuthorizeView>
        </div>
    </div>

        <div class="mainDiv">

        </div>

        <!--<div class="sidebar">
            <NavMenu />
        </div>-->

        <main>
            <div class="top-row px-4">

            </div>

            <article class="content px-4">
                @Body
            </article>
        </main>

</body>
@code{
    public string userFirstName = "";

    protected override async Task OnInitializedAsync()
    {
        await getUserLogin();
    }
    private async Task getUserLogin()
    {
        UserModel currentUser = await AuthenticationStateProviderHelpers.GetUserFromAuth(authProvider, userData);
        if (currentUser != null)
        {
            userFirstName = currentUser.firstName;
        }
    }
}